---
const { title, description } = Astro.props;

const highlights = [
	{ label: 'Research participants', value: '10,000+' },
	{ label: 'Engagement lift', value: '40%' },
	{ label: 'Courses taught', value: '15+' },
	{ label: 'Industry partners', value: 'Costco, Dexcom, Pearson' }
];
---

<div class="page-header">
	<div id="particles-header"></div>
	<div class="header-content">
		<div class="header-text">
			<h1>{title}</h1>
			<p class="lede">{description}</p>
		</div>
		<div class="header-panel">
			<h2><i class="fas fa-chart-line"></i> At a glance</h2>
			<ul class="metrics">
				{highlights.map((item) => (
					<li>
						<span class="value">{item.value}</span>
						<span class="label">{item.label}</span>
					</li>
				))}
			</ul>
		</div>
	</div>
</div>

<script is:inline>
	document.addEventListener('DOMContentLoaded', function() {
		if (typeof particlesJS !== 'undefined') {
			particlesJS('particles-header', {
				particles: {
					number: { value: 60, density: { enable: true, value_area: 800 } },
					color: { value: '#ffffff' },
					shape: { type: 'circle' },
					opacity: { value: 0.5, random: true },
					size: { value: 3, random: true },
					line_linked: { enable: true, distance: 150, color: '#ffffff', opacity: 0.3, width: 1 },
					move: { enable: true, speed: 1, direction: 'none', random: true, straight: false, out_mode: 'out' }
				},
				interactivity: {
					detect_on: 'canvas',
					events: {
						onhover: { enable: true, mode: 'grab' },
						onclick: { enable: true, mode: 'push' },
						resize: true
					},
					modes: {
						grab: { distance: 140, line_linked: { opacity: 1 } },
						push: { particles_nb: 4 }
					}
				},
				retina_detect: true
			});
		}
	});
</script>

<style>
	.page-header {
		position: relative;
		width: 100vw;
		margin-left: calc(-50vw + 50%);
		margin-top: -24px;
		background: linear-gradient(135deg, #1e3a5f 0%, #0f172a 100%);
		padding: 60px 24px;
		margin-bottom: 48px;
		color: #fff;
		overflow: hidden;
	}

	#particles-header {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		z-index: 1;
	}

	.header-content {
		position: relative;
		z-index: 2;
		max-width: 1100px;
		margin: 0 auto;
		display: grid;
		grid-template-columns: 1fr 300px;
		gap: 48px;
		align-items: center;
	}

	.header-text h1 {
		font-size: 48px;
		font-weight: 700;
		margin: 0 0 16px;
		letter-spacing: -0.02em;
		color: #fff;
		line-height: 1.1;
	}

	.header-text .lede {
		font-size: 18px;
		opacity: 0.9;
		line-height: 1.6;
		max-width: 600px;
		color: #fff;
		margin: 0;
	}

	.header-panel {
		background: rgba(255, 255, 255, 0.1);
		backdrop-filter: blur(10px);
		border: 1px solid rgba(255, 255, 255, 0.2);
		border-radius: 16px;
		padding: 20px;
		color: #fff;
	}

	.header-panel h2 {
		font-size: 18px;
		margin: 0 0 16px;
		display: flex;
		align-items: center;
		gap: 8px;
		color: #fff;
	}

	.header-panel h2 i {
		color: #fca5a5;
	}

	.metrics {
		list-style: none;
		display: grid;
		gap: 12px;
		margin: 0;
		padding: 0;
	}

	.metrics li {
		display: grid;
		gap: 4px;
		padding: 10px 12px;
		border-radius: 12px;
		background: rgba(0, 0, 0, 0.2);
		border: 1px solid rgba(255, 255, 255, 0.1);
	}

	.value {
		font-weight: 700;
		font-size: 18px;
		color: #fff;
	}

	.label {
		font-size: 12px;
		color: rgba(255, 255, 255, 0.7);
		text-transform: uppercase;
		letter-spacing: 0.08em;
	}

	@media (max-width: 900px) {
		.header-content {
			grid-template-columns: 1fr;
			text-align: center;
		}
		
		.header-text .lede {
			margin: 0 auto;
		}

		.header-panel {
			max-width: 400px;
			margin: 0 auto;
			width: 100%;
			text-align: left;
		}
	}
	
	@media (max-width: 600px) {
		.page-header {
			padding: 40px 16px;
		}
		
		.header-text h1 {
			font-size: 32px;
		}
	}
</style>
