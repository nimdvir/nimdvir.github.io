---
import Layout from '../layouts/Layout.astro';
import yorkies from '../assets/images/yorkies.gif';
---

<Layout title="Preview 404" description="Preview of the upcoming 404 page." noindex={true}>
	<main class="matrix-page">
		<div class="rain" aria-hidden="true"></div>
		<div class="matrix-content">
			<img src={yorkies.src} alt="Two yorkie dogs looking curious." loading="lazy" class="preview-gif" />
			<p class="matrix-text sub" data-text="Still under construction">Still under construction</p>
		</div>
	</main>
</Layout>

<style>
	.matrix-page {
		position: relative;
		min-height: 100vh;
		margin: 0;
		background: #000;
		overflow: hidden;
		display: flex;
		align-items: center;
		justify-content: center;
		padding: 24px;
	}

	.rain {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background: repeating-linear-gradient(
			0deg,
			rgba(0, 255, 0, 0.1) 0,
			rgba(0, 255, 0, 0.2) 2px,
			transparent 4px
		);
		animation: rain 10s linear infinite;
		z-index: 1;
		pointer-events: none;
	}

	.matrix-content {
		position: relative;
		z-index: 2;
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 12px;
		text-align: center;
		transform: translateY(-20px);
	}

	.matrix-text {
		color: #0f0;
		font-size: clamp(40px, 7vw, 80px);
		font-family: monospace;
		position: relative;
		text-shadow: 0 0 10px #0f0, 0 0 20px #0f0, 0 0 30px #0f0;
		margin: 0;
		z-index: 2;
	}

	.matrix-text::before {
		content: attr(data-text);
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		animation: glitch 2s infinite;
		clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%);
		transform: translate(-2px, -2px);
		color: #0f0;
		text-shadow: 0 0 5px #0f0, 0 0 15px #0f0;
	}

	.preview-gif {
		max-width: min(420px, 90vw);
		height: auto;
		border-radius: 16px;
		box-shadow: 0 16px 40px rgba(0, 255, 0, 0.18);
		border: 1px solid rgba(0, 255, 0, 0.35);
	}

	.matrix-text.sub {
		font-size: clamp(32px, 5.5vw, 56px);
		margin-top: 8px;
	}

	@keyframes rain {
		0% {
			transform: translateY(-100%);
		}
		100% {
			transform: translateY(100%);
		}
	}

	@keyframes glitch {
		0%,
		100% {
			clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%);
			transform: translate(0);
		}
		33% {
			clip-path: polygon(0 0, 100% 0, 100% 15%, 0 15%);
			transform: translate(-5px, -5px);
		}
		66% {
			clip-path: polygon(0 85%, 100% 85%, 100% 100%, 0 100%);
			transform: translate(5px, 5px);
		}
	}
</style>
